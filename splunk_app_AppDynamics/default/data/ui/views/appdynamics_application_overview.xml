<form>
  <label>Applications</label>
  <description>Application Overview Dashboard</description>
  <fieldset submitButton="false" autoRun="true">
    <input type="time" token="myTime" searchWhenChanged="true">
      <label>Time Period</label>
      <default>
        <earliest>-60m@m</earliest>
        <latest>now</latest>
      </default>
    </input>
    <input type="dropdown" token="app" searchWhenChanged="true">
      <label>Applications</label>
      <choice value="*">All</choice>
      <fieldForLabel>application_name</fieldForLabel>
      <fieldForValue>application_id</fieldForValue>
      <search>
        <query>sourcetype=appdynamics_summary | spath application_id | dedup application_name  | table  application_id application_name | sort application_name</query>
        <earliest>-7d@h</earliest>
        <latest>now</latest>
      </search>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <title>End User Average Response Time</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=end_user_experience application_id=$app$

| timechart  avg("End User Response Time (ms)") 
| predict avg("End User Response Time (ms)") future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
    <panel>
      <title>Average Response Time</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=application_performance application_id=$app$

| timechart  avg("Average Response Time (ms)") 
| predict avg("Average Response Time (ms)") future_timespan=20(value) future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
    <panel>
      <title>Incoming Traffic</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=infrastructure_performance application_id=$app$

| spath path=infrastructure_performance{} output=names 
| fields - _raw 
| fields  names | mvexpand names 
| spath input=names 
| fields - names 
| rename metricValues{}.* as * 

| spath input=names 
| search metricPath="*|*|*|Network|Incoming KB/sec"

| timechart  avg(value) 
| predict avg(value) future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
    <panel>
      <title>Outgoing Traffic</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=infrastructure_performance application_id=$app$

| spath path=infrastructure_performance{} output=names 
| fields - _raw 
| fields  names | mvexpand names 
| spath input=names 
| fields - names 
| rename metricValues{}.* as * 

| spath input=names 
| search metricPath="*|*|*|Network|Outgoing KB/sec"

| timechart  avg(value) 
| predict avg(value) future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
  </row>
  <row>
    <panel>
      <title>Errors per Minute</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=application_performance application_id=$app$


| timechart  avg("Errors per Minute") 
| predict avg("Errors per Minute") future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
    <panel>
      <title>HTTP Errors per Minute</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=application_performance application_id=$app$

| timechart  avg("HTTP Error Codes per Minute") 
| predict avg("HTTP Error Codes per Minute") future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
    <panel>
      <title>Exceptions per Minute</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=application_performance application_id=$app$

| timechart  avg("Exceptions per Minute") 
| predict avg("Exceptions per Minute") future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
    <panel>
      <title>Calls per Minute</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=application_performance application_id=$app$

| timechart  avg("Calls per Minute") 
| predict avg("Calls per Minute") future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
  </row>
  <row>
    <panel>
      <title>Memory Used %</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=infrastructure_performance application_id=$app$

| spath path=infrastructure_performance{} output=names 
| fields - _raw 
| fields  names | mvexpand names 
| spath input=names 
| fields - names 
| rename metricValues{}.* as * 

| spath input=names 
| search metricPath="*|*|Hardware Resources|Memory|Used %"

| timechart  avg(value)  
| predict avg(value) future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.axisY.maximumNumber">100</option>
        <option name="charting.axisY.minimumNumber">0</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.rangeValues">[0,15,30,100]</option>
        <option name="charting.gaugeColors">["0xd13b3b","0xFFE800","0x84E900"]</option>
      </chart>
    </panel>
    <panel>
      <title>Free Memory %</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=infrastructure_performance application_id=$app$

| spath path=infrastructure_performance{} output=names 
| fields - _raw 
| fields  names | mvexpand names 
| spath input=names 
| fields - names 
| rename metricValues{}.* as * 

| spath input=names 
| search metricPath="*|*|Hardware Resources|Memory|Free %"

| timechart  avg(value) 
| predict avg(value) future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.axisY.maximumNumber">100</option>
        <option name="charting.axisY.minimumNumber">0</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.rangeValues">[0,0.15,0.3,1]</option>
        <option name="charting.gaugeColors">["0xd13b3b","0xFFE800","0x84E900"]</option>
      </chart>
    </panel>
    <panel>
      <title>CPU Busy %</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=infrastructure_performance application_id=$app$

| spath path=infrastructure_performance{} output=names 
| fields - _raw 
| fields  names | mvexpand names 
| spath input=names 
| fields - names 
| rename metricValues{}.* as * 

| spath input=names 
| search metricPath="*|*|Hardware Resources|CPU|%Busy"

| timechart  avg(value) 
| predict avg(value) future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.axisY.maximumNumber">100</option>
        <option name="charting.axisY.minimumNumber">0</option>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
        <option name="charting.chart.rangeValues">[0,0.15,0.3,1]</option>
        <option name="charting.gaugeColors">["0x84E900","0xFFE800","0xBF3030"]</option>
      </chart>
    </panel>
    <panel>
      <title>Slow Calls</title>
      <chart>
        <search>
          <query>sourcetype=appdynamics_summary  source=application_performance application_id=$app$

| timechart  avg("Number of Slow Calls") 
| predict avg("Number of Slow Calls") future_timespan=20</query>
          <earliest>$myTime.earliest$</earliest>
          <latest>$myTime.latest$</latest>
        </search>
        <option name="charting.chart">line</option>
        <option name="charting.chart.nullValueMode">connect</option>
      </chart>
    </panel>
  </row>
</form>