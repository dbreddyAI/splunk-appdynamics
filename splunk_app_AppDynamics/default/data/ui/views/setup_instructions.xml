<dashboard>
  <label>Setup Instructions</label>
  <description>Setup Instructions for retrieving AppDynamics data into Splunk</description>

  <fieldset submitButton="false"> </fieldset>
  <row>  
   <html>
      <style>
        .header  { font-size: 18px; line-height:30px;font-weight:bold;  text-align:center; text-decoration: underline; }
        table    { border:solid 4px; border-collapse:collapse; table-layout:fixed; width:100%;}
        table td { border:solid 2px; width:25%; word-wrap:hidden;overflow: scroll; vertical-align:top; padding: 20px; 
                    font-size: 13px;}
        table th { border:solid 2px; width:25%; word-wrap:hidden;overflow: scroll; vertical-align:top; align:right; 
                   font-size:18px; line-height:30px;  background-color:black; color: white;
                   border: 2px solid black;}
        table tr {  }
        
        .code{ overflow: visible; 
               font-family:Consolas, "Liberation Mono", Menlo, Courier, monospace;
               font-size:12px;
               line-height:11px;
               color:darkblue;
               word-wrap:normal;
               white-space:pre;
               padding-right:10px;
               padding-left:10px;
               vertical-align:top;
        }
      
        img {  display: block; border: 2px solid gray;  margin: 3px;  padding: 3px; max-width: 98%;}  

        div.box-container {  border: 2px solid gray;  margin: 5px;  padding: 5px; max-width: 70%; } 
     </style>
 
 
 
      <table>
       <tr>
          <th width="100%">Authorization Token</th>
      </tr>
      <tr>
          <td>
        Before creating any data inputs for AppDynamics you will need to create an Authorization token. This will help keep your your userid and password secure. This token is created by endocding your userid, password and account secret in a base64 hash.  Don't worry, it's a very easy thing to do, here's how:
         <br/>
         <br/>
          <ol>
            <li>Issue the following command from a *nix command line: <code>echo -n 'user@customer1:secret' | base64</code> </li>
            <li>Save the resulting output.  This will be your Authorization token.</li>
          </ol>
        <br /> 
        <b>Background Info:</b><br/>
          Appdynamics' REST API can be invoked using a command line API request that looks something like this:<br/>
         <code>curl --user user1@customer1:secret http://demo.appdynamics.com/controller/rest/applications/5/business-transactions</code>
          <br/><br />
          The values you would use for the --user parameter are the same ones to use for your Authentication token. 
          <br /><br />
          For more information and details please visit the <a href="https://docs.appdynamics.com/display/PRO42/AppDynamics+APIs"  target="_blank"> AppDynamics Documentation</a>.
          <br/>
          <br/>
          Now that you have your token, let's setup our Data Input! 
        </td>
      </tr>
        
      <tr>
          <th width="100%">Summary Input</th>
      </tr>
      <tr>
          <td>
          <!--    Appdynamics   -->
         The AppDynamics Summary data input gather metrics in the following categories for ALL applications in AppDynamics:<br /><br/>
         <ul>
           <li>Overall Application Performance</li>
           <li>Business Transaction Performance</li>
           <li>Infrastructure Performance</li>
           <li>Health Rule Violations</li>
         </ul>
         To create a Summary input add your AppDynamics collector's host, you will need the following:<br/><br/>
         <ul>
           <li>AppDynamics Collector's IP Address and Port</li>
           <li>Authentication token</li>
           <li>(Optional) Application Name</li>

         </ul><br/>
         <b>Note:</b>  If you leave the 'Application Name' field blank <b>ALL</b> applications will be retrived.  If you want selected applications, simply enter the application name and clone for multiple applications (changing the application name of course). <br/><br/>
         <br />
         Create  a new data input by Opening the Splunk Add-on for AppDynamics app.  From there, click the Create New Input button and select "AppDynamics Summary":  
         <br/>
         <img src="/static/app/splunk_app_AppDynamics/AppDynamics_CreateInput.png" />
         <br />
         <br />
         
         Enter the settings below and save.  <br />
         <img src="/static/app/splunk_app_AppDynamics/AppDynamics_SummaryInput.png" />
         <br/>     
         <br />
         Now visit the <a href="/app/splunk_app_AppDynamics/appdynamics_overview" target="_blank">Overview</a> page and see your AppDynamics data!
         <br />
         <br />
         Or you can now start searching using <code>sourcetype="appdynamics_summary"</code>
         <br />
         <br />
         <br/>
          </td>
      </tr>

     
      <tr>
          <th width="100%">Single API Integrations</th>
      </tr>
      
      
      <tr>
          <td>
          In some cases there may be additional metrics you would like to gather from AppDynamics or metrics at different levels such as an individual set of metrics for a given "Tier" in AppDynamics.  
          In this case you can use the <code>AppDynamics Single API Call</code> data input to collect precisely the data you want. Use the <code>Settings --> Data Inputs --> AppDynamics Single API Call</code> input for this.  
          
          These are the options you will need to supply for each input:<br/>
            <br/>
          <ol>
            <li>Host and Port of you AppDynamics Controller</li> <br/>
            <li>Authorization Token </li> <br/>
            <li>Time Duration to collect<br/>
            Minutes you would like to collect data for (prior to NOW).   --   i.e.    5 = collect data for the past 5 minutes  
             </li> <br/>
            <li>Applicaiton Name or ID<br/>
            The AppDynamics REST API requires a specific application for which to retrieve metrics.  Supply that here.  
             </li> <br/>
            <li>The URL of the API you would like to use. <br/>
            Possible values for the URL include  <code>/metric-data</code> --or-- <code>/events</code>   --or--  <code>/problems/healthrule-violations</code>
            </li> <br/>
            <li>Parameters<br/>
            These are specific parameters for whatever URL you've specified above.  For example, the /metric-data URL requires a metric-path parameter like <code>metric-path=Business Transaction Performance|*|*|*|*</code>.<br/>
            The easiest way to obtain these parameters is to use the Metric Browser in AppDynamics and right click.  From the pop-up menu select the <code>Copy Full Path</code>option.  Wild cards are completely acceptable.
            <br/>
            <img src="/static/app/splunk_app_AppDynamics/AppDynamics_SetupSingleAPI.png" />
            </li> <br/>
          </ol>
          
          
          
          For more information and details please visit the <a href="https://docs.appdynamics.com/display/PRO42/AppDynamics+APIs"  target="_blank"> AppDynamics Documentation</a>.
          <br/>
          <br/>
          </td>
      </tr>



 
    </table>

   
 </html>

  </row> 
</dashboard>